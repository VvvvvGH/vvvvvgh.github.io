import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,b as a,o as n}from"./app-CJlMl9Ja.js";const s={};function l(r,e){return n(),t("div",null,e[0]||(e[0]=[a(`<h1 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h1><p>最近固态硬盘价格跳水，一直想给爱机升级下nvme固态硬盘，感觉现在是个好时机。接近一元1G的价格真的吸引人。于是双十一在狗东入手 HP EX900 500G SSD。 SSD到手，速度测试非常不错。然后要把原系统转移到新的固态硬盘，这个真的头疼。下面记录下转移Archlinux的过程。不过说实话，转完后新的固态多出上百GB写入，真的挺心疼。</p><h1 id="转移" tabindex="-1"><a class="header-anchor" href="#转移"><span>转移</span></a></h1><ul><li>准备一个Archlinux U盘</li><li>在windows下预先准备好分区</li><li>启动livecd</li><li>准备工作</li></ul><p>挂载原分区</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/arch_old</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sda1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/arch_old</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>格式化并挂载目标分区</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkfs.ext4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/nvme0n1p4</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/arch_new</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/nvme9n1p4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/arch_new</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>使用rsync把原分区的文件复制到目标分区</li></ul><p>这里就不写了，网上教程很多</p><ul><li>复制完成后要做的工作</li></ul><ol><li><p>修改fstab 根据<code>blkid</code>命令修改fstab对应分区的UUID</p></li><li><p>修改<code>mkinitcpio.conf</code> 在MODULES 添加 <code>ext4 nvme</code> 然后执行 <code>mkinitcpio -p linux</code>。 其中linux可能有所不同，需要查看<code>/etc/mkinitcpio.d</code>目录</p></li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>MODULES=&quot;ext4 nvme&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>安装grub到efi分区 首先挂载efi 分区<code>mount /dev/xxxx /boot/efi</code> 然后执行<code>grub-install --target=x86_64-efi --boot-directory=/boot/efi</code> 最后更新<code>grub.cfg</code> <code>grub-mkconfig -o /boot/grub/grub.cfg</code></li></ol><ul><li>到这里过程已结束，一切正常的话,重启即可体验nvme固态硬盘的极速。</li></ul>`,15)]))}const p=i(s,[["render",l]]),h=JSON.parse('{"path":"/posts/2018-11-14-archlinux-to-nvme.html","title":"将archlinux转移到nvme固态硬盘","lang":"zh-CN","frontmatter":{"title":"将archlinux转移到nvme固态硬盘","date":"2018-11-14T00:00:00.000Z","category":["ArchLinux","系统迁移","硬件升级"],"tag":["NVMe","SSD","系统转移","分区管理","rsync","fstab","mkinitcpio","GRUB","EFI"],"file_name":"2018-11-14-archlinux-to-nvme.md","description":"前言 最近固态硬盘价格跳水，一直想给爱机升级下nvme固态硬盘，感觉现在是个好时机。接近一元1G的价格真的吸引人。于是双十一在狗东入手 HP EX900 500G SSD。 SSD到手，速度测试非常不错。然后要把原系统转移到新的固态硬盘，这个真的头疼。下面记录下转移Archlinux的过程。不过说实话，转完后新的固态多出上百GB写入，真的挺心疼。 转移...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"将archlinux转移到nvme固态硬盘\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2018-11-14T00:00:00.000Z\\",\\"dateModified\\":\\"2024-09-29T15:21:40.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Guohao\\",\\"url\\":\\"https://space.vistazx1.top\\"}]}"],["meta",{"property":"og:url","content":"https://space.vistazx1.top/posts/2018-11-14-archlinux-to-nvme.html"}],["meta",{"property":"og:site_name","content":"Vista"}],["meta",{"property":"og:title","content":"将archlinux转移到nvme固态硬盘"}],["meta",{"property":"og:description","content":"前言 最近固态硬盘价格跳水，一直想给爱机升级下nvme固态硬盘，感觉现在是个好时机。接近一元1G的价格真的吸引人。于是双十一在狗东入手 HP EX900 500G SSD。 SSD到手，速度测试非常不错。然后要把原系统转移到新的固态硬盘，这个真的头疼。下面记录下转移Archlinux的过程。不过说实话，转完后新的固态多出上百GB写入，真的挺心疼。 转移..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-29T15:21:40.000Z"}],["meta",{"property":"article:tag","content":"EFI"}],["meta",{"property":"article:tag","content":"GRUB"}],["meta",{"property":"article:tag","content":"mkinitcpio"}],["meta",{"property":"article:tag","content":"fstab"}],["meta",{"property":"article:tag","content":"rsync"}],["meta",{"property":"article:tag","content":"分区管理"}],["meta",{"property":"article:tag","content":"系统转移"}],["meta",{"property":"article:tag","content":"SSD"}],["meta",{"property":"article:tag","content":"NVMe"}],["meta",{"property":"article:published_time","content":"2018-11-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-29T15:21:40.000Z"}]]},"git":{"createdTime":1727623300000,"updatedTime":1727623300000,"contributors":[{"name":"root","username":"root","email":"root@vistazx1.top","commits":1,"url":"https://github.com/root"}]},"readingTime":{"minutes":1.31,"words":393},"filePathRelative":"posts/2018-11-14-archlinux-to-nvme.md","excerpt":"\\n<p>最近固态硬盘价格跳水，一直想给爱机升级下nvme固态硬盘，感觉现在是个好时机。接近一元1G的价格真的吸引人。于是双十一在狗东入手 HP EX900 500G SSD。 SSD到手，速度测试非常不错。然后要把原系统转移到新的固态硬盘，这个真的头疼。下面记录下转移Archlinux的过程。不过说实话，转完后新的固态多出上百GB写入，真的挺心疼。</p>\\n<h1>转移</h1>\\n<ul>\\n<li>准备一个Archlinux U盘</li>\\n<li>在windows下预先准备好分区</li>\\n<li>启动livecd</li>\\n<li>准备工作</li>\\n</ul>\\n<p>挂载原分区</p>\\n","autoDesc":true}');export{p as comp,h as data};
